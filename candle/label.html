<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO -->
    <title>Free Candle Label Maker & Designer | LevorLabs</title>
    <meta name="description" content="Design custom candle labels for free. Adjust sizes, fonts, and colors instantly. Supports round and square jars with downloadable print-ready images. No sign-up required.">
    <meta name="keywords" content="candle label maker, free candle label template, diy candle labels, candle label size calculator, custom candle stickers, LevorLabs">
    <meta name="author" content="LevorLabs">
    <link rel="canonical" href="https://levorlabs.com/candle/label.html">

    <!-- Open Graph / Facebook / LinkedIn -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://levorlabs.com/candle/label.html">
    <meta property="og:title" content="Free Candle Label Maker - LevorLabs">
    <meta property="og:description" content="Design professional candle labels in your browser. customizable sizes, fonts, and logo uploads. Download for free.">
    <meta property="og:image" content="https://levorlabs.com/social-preview.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://levorlabs.com/candle/label.html">
    <meta property="twitter:title" content="Free Candle Label Maker - LevorLabs">
    <meta property="twitter:description" content="Design professional candle labels in your browser. Customizable sizes, fonts, and logo uploads.">
    <meta property="twitter:image" content="https://levorlabs.com/social-preview.jpg">

    <!-- Fonts (Includes the fix for bolding: weight 500 added) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Cinzel:wght@700&family=Dancing+Script:wght@700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    
    <!-- Icons & Scripts -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- Schema Markup for Software Application -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "LevorLabs Candle Label Designer",
      "url": "https://levorlabs.com/candle/label2.html",
      "description": "A free browser-based tool to design and download custom candle labels.",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
</head>

<body>

<div class="container">
<header>
    <a href="./index.html" class="brand">
        <i class="ph-fill ph-flame"></i>
        <div class="brand-name">Levor<span style="font-weight:400; opacity: 0.7;">Labs</span></div>
        </a>

	<button class="global-unit-btn" onclick="toggleGlobalUnit()">
    <i class="ph-bold ph-arrows-left-right"></i>
    <span id="global-unit-label">OZ / IN</span>
</button>

    <div class="mobile-toggle" onclick="toggleMenu()">
        <i class="ph ph-list"></i>
    </div>

    <nav class="nav-menu">
        <a href="index.html" class="nav-link">
            <i class="ph ph-flask"></i> Calculator
        </a>
        
        <a href="wick.html" class="nav-link">
            <i class="ph ph-fire"></i> Wick Finder
        </a>

        <a href="burn.html" class="nav-link">
            <i class="ph ph-timer"></i> Burn Rate
        </a>

        <a href="guide.html" class="nav-link">
            <i class="ph ph-book-open"></i> Wax Guide
        </a>
		
		<a href="label.html" class="nav-link active">
            <i class="ph ph-tag"></i> Label Creator
        </a>

		</nav>
</header>

    <div class="page-header">
        <h1>Label Designer</h1>
        <p>Create custom labels for your candles.</p>
    </div>

    <div class="label-editor-grid">
        
        <!-- SIDEBAR: CONTROLS -->
        <div class="control-panel">
            
            <!-- 1. DIMENSIONS -->
            <div class="control-section">
                <div class="section-title">1. Size & Shape</div>
                <div class="row">
                    <div class="form-group">
                        <label>Width (in)</label>
                        <input type="number" id="lblWidth" value="3" step="0.125" min="1" max="8">
                    </div>
                    <div class="form-group">
                        <label>Height (in)</label>
                        <input type="number" id="lblHeight" value="2" step="0.125" min="1" max="11">
                    </div>
                </div>
                <div class="checkbox-group" style="margin-top:10px;">
                    <label class="checkbox-item">
                        <input type="checkbox" id="lblRound"> Round / Oval
                    </label>
                </div>
            </div>

            <!-- 2. CONTENT & TYPOGRAPHY -->
            <div class="control-section">
                <div class="section-title">2. Design Elements</div>

                <!-- Logo -->
                <div class="control-group">
                    <label>Logo</label>
                    <input type="file" id="logoUpload" accept="image/*" style="font-size:0.8rem;">
                    
                    <!-- Resize Slider -->
                    <div class="tool-row" id="logoSizeContainer" style="display:none; margin-top:10px;">
                        <span style="font-size:0.7rem; color:#999;">Size:</span>
                        <input type="range" id="logoSize" min="20" max="300" value="100" style="flex:1;">
                    </div>

                    <button onclick="clearLogo()" style="font-size:0.7rem; margin-top:5px; background:none; border:none; color:red; cursor:pointer; display:none;" id="clearLogoBtn">Remove Logo</button>
                </div>

                <!-- Brand Control -->
                <div class="control-group">
                    <label>Brand Name</label>
                    <input type="text" id="txtBrand" value="Levor Labs">
                    <div class="tool-row">
                        <input type="number" id="szBrand" value="14" class="tool-input-sm" title="Font Size (pt)">
                        <input type="color" id="colBrand" value="#000000" class="tool-color" title="Text Color">
                        <button class="btn-style" id="btnBoldBrand" onclick="toggleStyle('brand', 'bold')"><i class="ph-bold ph-text-b"></i></button>
                        <button class="btn-style" id="btnItalicBrand" onclick="toggleStyle('brand', 'italic')"><i class="ph-bold ph-text-italic"></i></button>
                    </div>
                </div>

                <!-- Scent Control -->
                <div class="control-group">
                    <label>Scent Name</label>
                    <input type="text" id="txtScent" value="Midnight Amber">
                    <div class="tool-row">
                        <input type="number" id="szScent" value="24" class="tool-input-sm" title="Font Size (pt)">
                        <input type="color" id="colScent" value="#000000" class="tool-color" title="Text Color">
                        <button class="btn-style" id="btnBoldScent" onclick="toggleStyle('scent', 'bold')"><i class="ph-bold ph-text-b"></i></button>
                        <button class="btn-style" id="btnItalicScent" onclick="toggleStyle('scent', 'italic')"><i class="ph-bold ph-text-italic"></i></button>
                    </div>
                </div>

                <!-- Details Control -->
                <div class="control-group">
                    <label>Details / Weight</label>
                    <input type="text" id="txtDetails" value="100% Soy Wax | 8 oz (226g)">
                    <div class="tool-row">
                        <input type="number" id="szDetails" value="9" class="tool-input-sm" title="Font Size (pt)">
                        <input type="color" id="colDetails" value="#666666" class="tool-color" title="Text Color">
                        <button class="btn-style" id="btnBoldDetails" onclick="toggleStyle('details', 'bold')"><i class="ph-bold ph-text-b"></i></button>
                        <button class="btn-style" id="btnItalicDetails" onclick="toggleStyle('details', 'italic')"><i class="ph-bold ph-text-italic"></i></button>
                    </div>
                </div>
            </div>

            <!-- 3. GLOBAL STYLE -->
            <div class="control-section">
                <div class="section-title">3. Global Style</div>
                
                <div class="form-group">
                    <label>Font Theme</label>
                    <select id="selFont">
                        <option value="modern">Clean Modern (Montserrat)</option>
                        <option value="classic">Classic Serif (Playfair)</option>
                        <option value="luxury">Luxury Minimal (Cinzel)</option>
                        <option value="hand">Handwritten (Dancing Script)</option>
                    </select>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label>Background</label>
                        <input type="color" id="colBg" value="#ffffff" style="height:40px; padding:0;">
                    </div>
                    <div class="form-group">
                        <label>Border Color</label>
                        <input type="color" id="colBorder" value="#000000" style="height:40px; padding:0;">
                    </div>
                </div>

                <div class="checkbox-group" style="margin-top:10px;">
                    <label class="checkbox-item">
                        <input type="checkbox" id="chkBorder" checked> Show Border
                    </label>
                </div>
            </div>

            <!-- ACTIONS -->
            <div style="position: sticky; bottom: 0; background: white; padding-top: 10px; border-top: 1px solid #eee; display:flex; gap:10px; flex-direction:column;">
                <button class="btn-tds" style="background:var(--primary); color:white; border:none; justify-content:center; font-weight:700; cursor:pointer;" onclick="downloadLabel()">
                    <i class="ph-bold ph-download-simple"></i> Download Image
                </button>
                <button class="btn-tds" style="justify-content:center; cursor:pointer; color: #dc2626; border-color: #fca5a5;" onclick="resetLabel()">
        <i class="ph-bold ph-arrow-counter-clockwise"></i> Reset Defaults
    </button>
            </div>

        </div>

        <!-- PREVIEW STAGE -->
        <div class="label-stage">
            <div id="dimDisplay" style="position:absolute; top:15px; left:20px; font-size:0.8rem; color:#666;">
                <i class="ph-bold ph-ruler"></i> <span>3" x 2"</span>
            </div>

            <!-- THE LABEL -->
            <div id="master-label" class="candle-label">
                <div class="cl-border" id="renderBorder"></div>
                
                <!-- Draggable Elements -->
                <div class="cl-logo" id="renderLogo" style="display:none;"><img src="" alt=""></div>
                
                <div class="cl-text-block" id="renderBrand">
                    <div class="cl-brand">Levor Labs</div>
                </div>
                
                <div class="cl-text-block" id="renderScent">
                    <div class="cl-scent">Midnight Amber</div>
                </div>
                
                <div class="cl-text-block" id="renderDetails">
                    <div class="cl-details">100% Soy Wax | 8 oz (226g)</div>
                </div>
            </div>
            
            <p style="margin-top:30px; font-size:0.8rem; color:#666; max-width:300px; text-align:center;">
                <strong>How to arrange:</strong><br>
                1. <strong>Logo:</strong> Drag anywhere.<br>
                2. <strong>Text:</strong> Drag Up/Down to make room for the logo.
            </p>
        </div>
    </div>
    
    <div style="margin-top: 40px; text-align: center; font-size: 0.8rem; color: var(--text-light); border-top: 1px solid var(--border); padding-top: 20px;">
        &copy; 2025 Levor Labs.
    </div>

</div>

<script src="scripts.js"></script>

<script>
    // --- STATE MANAGEMENT ---
    let isLoading = false;

    let styles = {
        brand: { bold: false, italic: false },
        scent: { bold: false, italic: false },
        details: { bold: false, italic: false }
    };

    const get = (id) => document.getElementById(id);

    const ui = {
        width: get('lblWidth'),
        height: get('lblHeight'),
        round: get('lblRound'),
        brand: { txt: get('txtBrand'), sz: get('szBrand'), col: get('colBrand') },
        scent: { txt: get('txtScent'), sz: get('szScent'), col: get('colScent') },
        details: { txt: get('txtDetails'), sz: get('szDetails'), col: get('colDetails') },
        font: get('selFont'),
        bg: get('colBg'),
        borderCol: get('colBorder'),
        borderChk: get('chkBorder'),
        logoInput: get('logoUpload'),
        logoSize: get('logoSize'),
        logoSizeContainer: get('logoSizeContainer'),
        clearLogo: get('clearLogoBtn')
    };

    const render = {
        label: get('master-label'),
        brandWrap: get('renderBrand'),
        scentWrap: get('renderScent'),
        detailsWrap: get('renderDetails'),
        brand: get('renderBrand').querySelector('.cl-brand'),
        scent: get('renderScent').querySelector('.cl-scent'),
        details: get('renderDetails').querySelector('.cl-details'),
        border: get('renderBorder'),
        logo: get('renderLogo'),
        logoImg: document.querySelector('#renderLogo img'),
        dimDisplay: document.querySelector('#dimDisplay span')
    };

    const fonts = {
        modern: { brand: "'Montserrat', sans-serif", scent: "'Montserrat', sans-serif" },
        classic: { brand: "'Lato', sans-serif", scent: "'Playfair Display', serif" },
        luxury: { brand: "'Cinzel', serif", scent: "'Lato', sans-serif" },
        hand: { brand: "'Montserrat', sans-serif", scent: "'Dancing Script', cursive" }
    };

    // --- MAIN UPDATE FUNCTION ---
    function updateLabel() {
        render.label.style.width = ui.width.value + 'in';
        render.label.style.height = ui.height.value + 'in';
        
        if (ui.round.checked) render.label.classList.add('is-round');
        else render.label.classList.remove('is-round');

        updateSection('brand');
        updateSection('scent');
        updateSection('details');

        render.logoImg.style.width = ui.logoSize.value + 'px';

        render.label.style.backgroundColor = ui.bg.value;
        render.border.style.borderColor = ui.borderCol.value;
        render.border.style.display = ui.borderChk.checked ? 'block' : 'none';

        const f = fonts[ui.font.value];
        render.brand.style.fontFamily = f.brand;
        render.scent.style.fontFamily = f.scent;
        render.details.style.fontFamily = f.brand;

        render.dimDisplay.innerText = `${ui.width.value}" x ${ui.height.value}"`;

        if (!isLoading) saveState();
    }

    function updateSection(key) {
        const el = render[key];
        const input = ui[key];
        const state = styles[key];

        el.innerText = input.txt.value;
        el.style.fontSize = input.sz.value + 'pt';
        el.style.color = input.col.value;
        el.style.fontWeight = state.bold ? '700' : '400';
        el.style.fontStyle = state.italic ? 'italic' : 'normal';

        if(state.bold && (ui.font.value === 'modern' || ui.font.value === 'hand')) {
            el.style.fontWeight = '800'; 
        }
    }

    function toggleStyle(section, type) {
        styles[section][type] = !styles[section][type];
        updateStyleButtons();
        updateLabel();
    }

    function updateStyleButtons() {
        ['brand', 'scent', 'details'].forEach(sec => {
            const btnB = document.getElementById(`btnBold${capitalize(sec)}`);
            const btnI = document.getElementById(`btnItalic${capitalize(sec)}`);
            if(styles[sec].bold) btnB.classList.add('active'); else btnB.classList.remove('active');
            if(styles[sec].italic) btnI.classList.add('active'); else btnI.classList.remove('active');
        });
    }

    function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

    ui.logoInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                render.logoImg.src = e.target.result;
                render.logo.style.display = 'block';
                ui.clearLogo.style.display = 'block';
                ui.logoSizeContainer.style.display = 'flex';
                render.logo.style.top = '20%';
                render.logo.style.left = '50%';
                updateLabel(); 
            }
            reader.readAsDataURL(file);
        }
    });

    function clearLogo() {
        render.logo.style.display = 'none';
        render.logoImg.src = '';
        ui.logoInput.value = '';
        ui.clearLogo.style.display = 'none';
        ui.logoSizeContainer.style.display = 'none';
        updateLabel();
    }

    // --- RESET FUNCTION ---
    function resetLabel() {
        if(confirm("Are you sure you want to reset everything?")) {
            localStorage.removeItem('levor_label_v2');
            location.reload();
        }
    }

    // --- DRAG ENGINE ---
    let dragItem = null;
    let dragType = ''; 
    let startY = 0, startX = 0;
    let initialTop = 0, initialLeft = 0;

    const draggables = [render.logo, render.brandWrap, render.scentWrap, render.detailsWrap];
    
    draggables.forEach(el => {
        el.addEventListener('mousedown', dragStart);
        el.addEventListener('touchstart', dragStart, {passive: false});
    });

    document.addEventListener('mouseup', dragEnd);
    document.addEventListener('mousemove', drag);
    document.addEventListener('touchend', dragEnd);
    document.addEventListener('touchmove', drag, {passive: false});

    function dragStart(e) {
        dragItem = e.currentTarget; 
        if (dragItem.classList.contains('cl-logo')) dragType = 'xy';
        else dragType = 'y';

        const clientX = e.clientX || e.touches[0].clientX;
        const clientY = e.clientY || e.touches[0].clientY;
        startX = clientX;
        startY = clientY;
        initialTop = dragItem.offsetTop;
        initialLeft = dragItem.offsetLeft;

        if(e.type === 'mousedown') e.preventDefault();
    }

    function drag(e) {
        if (!dragItem) return;
        e.preventDefault();

        const clientX = e.clientX || e.touches[0].clientX;
        const clientY = e.clientY || e.touches[0].clientY;
        const deltaY = clientY - startY;
        const deltaX = clientX - startX;

        dragItem.style.top = (initialTop + deltaY) + "px";
        if (dragType === 'xy') {
            dragItem.style.left = (initialLeft + deltaX) + "px";
        }
    }

    function dragEnd() {
        if (dragItem) {
            dragItem = null;
            if(!isLoading) saveState(); 
        }
    }

    // --- SAVE & LOAD ---
    function saveState() {
        if(isLoading) return;

        const getPos = (el) => window.getComputedStyle(el).top;
        const getLeft = (el) => window.getComputedStyle(el).left;

        const state = {
            width: ui.width.value,
            height: ui.height.value,
            round: ui.round.checked,
            font: ui.font.value,
            bg: ui.bg.value,
            borderCol: ui.borderCol.value,
            borderChk: ui.borderChk.checked,
            
            txtBrand: ui.brand.txt.value,
            szBrand: ui.brand.sz.value,
            colBrand: ui.brand.col.value,
            
            txtScent: ui.scent.txt.value,
            szScent: ui.scent.sz.value,
            colScent: ui.scent.col.value,
            
            txtDetails: ui.details.txt.value,
            szDetails: ui.details.sz.value,
            colDetails: ui.details.col.value,
            
            styles: styles, 

            posBrand: getPos(render.brandWrap),
            posScent: getPos(render.scentWrap),
            posDetails: getPos(render.detailsWrap),
            posLogoTop: getPos(render.logo),
            posLogoLeft: getLeft(render.logo),

            logoSrc: render.logoImg.src,
            logoSize: ui.logoSize.value
        };
        
        if(state.logoSrc.includes('favicon') || state.logoSrc === location.href) state.logoSrc = '';

        localStorage.setItem('levor_label_v2', JSON.stringify(state));
    }

    function loadState() {
        const saved = localStorage.getItem('levor_label_v2');
        if (!saved) {
            updateLabel(); 
            return; 
        }

        isLoading = true;

        try {
            const data = JSON.parse(saved);

            ui.width.value = data.width || 3;
            ui.height.value = data.height || 2;
            ui.round.checked = data.round;
            ui.font.value = data.font || 'modern';
            ui.bg.value = data.bg || '#ffffff';
            ui.borderCol.value = data.borderCol || '#000000';
            ui.borderChk.checked = data.borderChk;

            ui.brand.txt.value = data.txtBrand || 'Levor Labs';
            ui.brand.sz.value = data.szBrand || 14;
            ui.brand.col.value = data.colBrand || '#000000';

            ui.scent.txt.value = data.txtScent || 'Midnight Amber';
            ui.scent.sz.value = data.szScent || 24;
            ui.scent.col.value = data.colScent || '#000000';

            ui.details.txt.value = data.txtDetails || '100% Soy Wax';
            ui.details.sz.value = data.szDetails || 9;
            ui.details.col.value = data.colDetails || '#666666';

            if(data.styles) styles = data.styles;
            updateStyleButtons();

            updateLabel();

            if(data.posBrand) render.brandWrap.style.top = data.posBrand;
            if(data.posScent) render.scentWrap.style.top = data.posScent;
            if(data.posDetails) render.detailsWrap.style.top = data.posDetails;
            
            if(data.posLogoTop) render.logo.style.top = data.posLogoTop;
            if(data.posLogoLeft) render.logo.style.left = data.posLogoLeft;

            if (data.logoSrc && data.logoSrc.length > 100) {
                render.logoImg.src = data.logoSrc;
                render.logo.style.display = 'block';
                ui.clearLogo.style.display = 'block';
                ui.logoSizeContainer.style.display = 'flex';
                ui.logoSize.value = data.logoSize || 100;
                render.logoImg.style.width = ui.logoSize.value + 'px';
            }

        } catch (e) {
            console.error("Save Load Error", e);
        } finally {
            isLoading = false;
        }
    }

    function downloadLabel() {
        html2canvas(render.label, { scale: 4, backgroundColor: null }).then(canvas => {
            const link = document.createElement('a');
            let name = ui.scent.txt.value.trim().replace(/[^a-z0-9]/gi, '_').toLowerCase();
            if(!name) name = "label";
            link.download = `${name}_levorlabscom.png`;
            link.href = canvas.toDataURL("image/png");
            link.click();
        });
    }

    function attachListeners(obj) {
        Object.values(obj).forEach(el => {
            if (el && el.tagName && el.type !== 'file') { 
                el.addEventListener('input', updateLabel);
                el.addEventListener('change', updateLabel);
            } else if (typeof el === 'object') {
                attachListeners(el);
            }
        });
    }

    attachListeners(ui);
    loadState(); 

</script>

</body>
</html>