<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Burn Rate & Consumption Calculator | LevorLabs</title>
    <meta name="description" content="Analyze your candle burn tests. Calculate consumption rates (oz/hour) and estimate total burn time to ensure safety and quality.">
    <meta name="keywords" content="candle burn time calculator, consumption rate, power burn test, candle safety testing">
    
    <meta property="og:title" content="LevorLabs - Burn Rate Analyzer">
    <meta property="og:description" content="Is your candle burning too hot? Input your test weights to see if you are in the safe zone.">
    <meta property="og:image" content="https://levorlabs.com/social-preview.jpg">
    <meta property="og:url" content="https://levorlabs.com/candle/burn.html">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <style>
        /* Banner Style */
        .beta-banner {
            background-color: #EFF6FF;
            border: 1px solid #DBEAFE;
            color: #1E40AF;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.85rem;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-highlight {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
            margin: 10px 0;
        }
        
        .result-sub {
            font-size: 0.9rem;
            color: var(--text-med);
            font-weight: 500;
        }

        .metric-card {
            background-color: #FAFAFA;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .metric-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--text-light);
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-dark);
        }
    </style>
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYD8L47014"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DYD8L47014');
</script>
<body>

<div class="container">
<header>
    <a href="./index.html" class="brand">
        <i class="ph-fill ph-flame"></i>
        <div class="brand-name">Levor<span style="font-weight:400; opacity: 0.7;">Labs</span></div>
        <div class="brand-tag">BETA</div>
    </a>
<button class="global-unit-btn" onclick="toggleGlobalUnit()">
    <i class="ph-bold ph-arrows-left-right"></i>
    <span id="global-unit-label">OZ / IN</span>
</button>
    <div class="mobile-toggle" onclick="toggleMenu()">
        <i class="ph ph-list"></i>
    </div>

    <nav class="nav-menu">
        <a href="index.html" class="nav-link">
            <i class="ph ph-flask"></i> Calculator
        </a>
        
        <a href="wick.html" class="nav-link">
            <i class="ph ph-fire"></i> Wick Finder
        </a>

        <a href="burn.html" class="nav-link">
            <i class="ph ph-timer"></i> Burn Rate
        </a>

        <a href="guide.html" class="nav-link">
            <i class="ph ph-book-open"></i> Wax Guide
        </a>
		
		<a href="../index.html" class="nav-link"> <i class="ph ph-flask"></i> LevorLabs</a>
    </nav>
</header>

    <div class="beta-banner">
        <i class="ph-fill ph-info"></i>
        <span><b>Beta Tool:</b> Results depend on accurate weighing. Ensure scale is calibrated.</span>
    </div>

<div class="page-header">
    <h1>Burn Rate Analyzer</h1>
    <p>Calculate candle consumption and total burn time efficiency.</p>
</div>

    <div class="main-grid">
        <div class="card">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                <h2 style="margin-bottom:0;"><i class="ph ph-scales"></i> Test Data</h2>
                
                </div>

            <p style="font-size: 0.85rem; color: var(--text-med); margin-bottom: 20px;">
                Weigh your candle before and after a timed burn (usually 4 hours) to calculate efficiency.
            </p>
            
            <div class="row">
                <div class="form-group">
                    <label>Weight Before (<span class="unit-label">oz</span>)</label>
                    <input type="number" id="weightStart" placeholder="0" step="0.01">
                </div>
                <div class="form-group">
                    <label>Weight After (<span class="unit-label">oz</span>)</label>
                    <input type="number" id="weightEnd" placeholder="0" step="0.01">
                </div>
            </div>

            <div class="form-group">
                <label>Duration of Burn (Hours)</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button onclick="adjustTime(-1)" style="padding: 10px; border:1px solid var(--border); background:#fff; border-radius:6px; cursor:pointer;">-</button>
                    <input type="number" id="duration" value="4" style="text-align: center;">
                    <button onclick="adjustTime(1)" style="padding: 10px; border:1px solid var(--border); background:#fff; border-radius:6px; cursor:pointer;">+</button>
                </div>
            </div>

            <hr style="border: 0; border-top: 1px solid var(--border); margin: 25px 0;">

            <div class="form-group">
                <label>Original Net Weight (<span class="unit-label">oz</span>)</label>
                <input type="number" id="netWeight" placeholder="0" step="0.1">
                <small style="display:block; margin-top:5px; color:var(--text-light); font-size:0.75rem;">
                    How much wax you have (Do not include container weight).
                </small>
            </div>
        </div>

        <div class="card results-panel" style="justify-content: start;">
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div class="total-label">Consumption Rate</div>
                <div class="result-highlight">
                    <span id="rateDisplay">0.00</span> 
                    <span style="font-size: 1.5rem; font-weight: 500; color: var(--text-light);">
                        <span class="unit-label">oz</span>/hr
                    </span>
                </div>
                <div class="result-sub">Standard target: <span id="targetRange">0.15 - 0.25</span> <span class="unit-label">oz</span>/hr</div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Estimated Total Burn Time</div>
                <div class="metric-value"><span id="totalLifeDisplay">0</span> Hours</div>
            </div>

            <div style="margin-top: 30px; border-top: 1px solid var(--border); padding-top: 20px;">
                <h4 style="font-size: 0.9rem; margin: 0 0 10px 0;"><i class="ph-fill ph-lightbulb" style="color:var(--primary);"></i> Analysis</h4>
                <p id="analysisText" style="font-size: 0.85rem; color: var(--text-med); margin: 0; line-height: 1.5;">
                    Enter your test data to see results.
                </p>
            </div>

        </div>
    </div>
</div>

<script src="scripts.js"></script>

<script>
    // --- ELEMENT REFERENCES ---
    const weightStart = document.getElementById('weightStart');
    const weightEnd = document.getElementById('weightEnd');
    const duration = document.getElementById('duration');
    const netWeight = document.getElementById('netWeight');
    
    const rateDisplay = document.getElementById('rateDisplay');
    const totalLifeDisplay = document.getElementById('totalLifeDisplay');
    const analysisText = document.getElementById('analysisText');
    const targetRange = document.getElementById('targetRange');

    
document.addEventListener('unitChange', function(e) {
        if (e.detail.converting) {
            convertInput('weightStart', 'mass');
            convertInput('weightEnd', 'mass');
            convertInput('netWeight', 'mass');
        }
        updateRangeText();
        calculate();
    });

    function updateRangeText() {
        const target = document.getElementById('targetRange');
        if(globalUnit === 'imperial') {
            target.textContent = "0.15 - 0.25";
        } else {
            target.textContent = "4.25 - 7.0";
        }
    }

    function calculate() {
        const start = parseFloat(document.getElementById('weightStart').value) || 0;
        const end = parseFloat(document.getElementById('weightEnd').value) || 0;
        const hours = parseFloat(document.getElementById('duration').value) || 0;
        const totalWax = parseFloat(document.getElementById('netWeight').value) || 0;

        if (start > 0 && end > 0 && hours > 0) {
            const consumed = start - end;
            const rate = consumed / hours;
            
            // Display Logic
            const decimals = globalUnit === 'imperial' ? 3 : 1;
            document.getElementById('rateDisplay').textContent = rate.toFixed(decimals);
            
            if (totalWax > 0) {
                document.getElementById('totalLifeDisplay').textContent = (totalWax / rate).toFixed(1);
            }

            // Analysis (Convert to Oz for logic comparison)
            const rateInOz = globalUnit === 'metric' ? (rate / 28.3495) : rate;
            let msg = "<b>Optimal Range.</b>";
            if (rateInOz < 0.1) msg = "<b>Burn is very slow.</b> Use a larger wick.";
            if (rateInOz > 0.3) msg = "<b>Burn is very hot.</b> Try a smaller wick.";
            document.getElementById('analysisText').innerHTML = msg;
        }
    }

    // Attach listeners
    ['weightStart', 'weightEnd', 'duration', 'netWeight'].forEach(id => {
        document.getElementById(id).addEventListener('input', calculate);
    });

    // Init
    if(globalUnit === 'metric') {
        // Convert any default values if they exist
        convertInput('weightStart', 'mass'); 
        // ... etc
    }
    updateRangeText();

    // --- FUNCTION: ADJUST TIME BUTTONS ---
    function adjustTime(delta) {
        let val = parseFloat(duration.value) || 0;
        val += delta;
        if(val < 1) val = 1;
        duration.value = val;
        calculate();
    }

    // --- FUNCTION: MAIN CALCULATION ---
    function calculate() {
        const start = parseFloat(weightStart.value) || 0;
        const end = parseFloat(weightEnd.value) || 0;
        const hours = parseFloat(duration.value) || 0;
        const totalWax = parseFloat(netWeight.value) || 0;

        if (start > 0 && end > 0 && hours > 0) {
            const consumed = start - end;
            
            // Safety check
            if (consumed < 0) {
                rateDisplay.textContent = "Error";
                analysisText.textContent = "Ending weight cannot be higher than starting weight.";
                return;
            }

            const rate = consumed / hours;
            
            // Display Rate (3 decimals for oz, 1 decimal for g)
            rateDisplay.textContent = rate.toFixed(currentUnit === 'oz' ? 3 : 1);

            // Calculate Total Life
            if (totalWax > 0) {
                const totalLife = totalWax / rate;
                totalLifeDisplay.textContent = totalLife.toFixed(1);
            } else {
                totalLifeDisplay.textContent = "--";
            }

            // --- ANALYSIS LOGIC ---
            // We convert the current rate back to Oz just for the comparison logic
            const rateInOz = currentUnit === 'g' ? (rate / 28.3495) : rate;

            let msg = "";
            if (rateInOz < 0.1) {
                msg = "<b>Burn is very slow.</b> Use a larger wick or a specific gravity adjustment.";
            } else if (rateInOz > 0.3) {
                msg = "<b>Burn is very hot.</b> Try a smaller wick series to extend life.";
            } else {
                msg = "<b>Optimal Range.</b> This consumption rate indicates a safe, clean burn.";
            }
            analysisText.innerHTML = msg;

        } else {
            // Reset if inputs are empty
            rateDisplay.textContent = "0.00";
            totalLifeDisplay.textContent = "0";
            analysisText.textContent = "Enter Start and End weights to analyze.";
        }
    }

    // --- EVENT LISTENERS ---
    weightStart.addEventListener('input', calculate);
    weightEnd.addEventListener('input', calculate);
    duration.addEventListener('input', calculate);
    netWeight.addEventListener('input', calculate);
	
	
	
</script>

</body>
</html>