<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Candle Calculator & Recipe Builder | LevorLabs</title>
    <meta name="description" content="Free batch calculator for candle makers. Calculate fragrance oil ratios, total wax weights, and container counts for Soy, Paraffin, and Coconut waxes.">
    <meta name="keywords" content="candle calculator, fragrance load formula, soy wax calculator, batch size calculator, LevorLabs">
    
    <meta property="og:title" content="LevorLabs - Candle Batch Calculator">
    <meta property="og:description" content="Stop guessing. Calculate exact wax and fragrance weights for any container size.">
    <meta property="og:image" content="https://levorlabs.com/social-preview.jpg">
    <meta property="og:url" content="https://levorlabs.com/candle/index.html">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYD8L47014"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DYD8L47014');
</script>
<body>

<div class="container">
<header>
    <a href="./index.html" class="brand">
        <i class="ph-fill ph-flame"></i>
        <div class="brand-name">Levor<span style="font-weight:400; opacity: 0.7;">Labs</span></div>
        <div class="brand-tag">BETA</div>
    </a>

	<button class="global-unit-btn" onclick="toggleGlobalUnit()">
    <i class="ph-bold ph-arrows-left-right"></i>
    <span id="global-unit-label">OZ / IN</span>
</button>

    <div class="mobile-toggle" onclick="toggleMenu()">
        <i class="ph ph-list"></i>
    </div>

    <nav class="nav-menu">
        <a href="index.html" class="nav-link">
            <i class="ph ph-flask"></i> Calculator
        </a>
        
        <a href="wick.html" class="nav-link">
            <i class="ph ph-fire"></i> Wick Finder
        </a>

        <a href="burn.html" class="nav-link">
            <i class="ph ph-timer"></i> Burn Rate
        </a>

        <a href="guide.html" class="nav-link">
            <i class="ph ph-book-open"></i> Wax Guide
        </a>
		
		<a href="../index.html" class="nav-link"> <i class="ph ph-flask"></i> LevorLabs</a>

		</nav>
</header>

<div class="page-header">
    <h1>Candle Calculator</h1>
    <p>Calculate fragrance ratios and total wax weight for your container size.</p>
</div>

    <div class="main-grid">
        <div class="card">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
        <h2 style="margin-bottom:0;"><i class="ph ph-flask"></i> Formulation</h2>
        
        
    </div> <div class="form-group">
        <label for="waxSelector">Wax Type</label>
        <select id="waxSelector"></select>
    </div>
			

            <div id="customSgContainer" class="form-group hidden">
                <label for="customSg">Specific Gravity (from Bag/SDS)</label>
                <input type="number" id="customSg" value="0.86" step="0.01">
            </div>

            <div class="row">
                <div class="form-group">
                    <label>Container Size (Water <span class="unit-label">oz</span>)</label>
                    <input type="number" id="waterWeight" placeholder="0" step="0.1">
                </div>
                <div class="form-group">
                    <label>Candle Count</label>
                    <input type="number" id="candleCount" value="1" step="1">
                </div>
            </div>

            <div class="slider-container">
                <div class="slider-header">
                    <label style="margin:0;">Fragrance Load</label>
                    <span id="foDisplay" class="highlight-text">6%</span>
                </div>
                <input type="range" id="foSlider" min="0" max="15" value="6" step="0.5">
                <div class="slider-labels">
                    <span>0%</span>
                    <span>Light (6%)</span>
                    <span>Strong (10%)</span>
                    <span>Max (12%+)</span>
                </div>
            </div>
        </div>

        <div class="card results-panel">
            <div>
                <div class="total-section">
                    <div class="total-label">Total Batch Weight</div>
                    <div class="total-weight"><span id="totalWeightDisplay">0</span><span class="unit unit-label">oz</span></div>
                </div>
                
                <div class="breakdown-row">
    <span>Wax Needed</span>
    <span class="value"><span id="waxNeededDisplay">0</span> <small class="unit-label" style="font-size:0.9rem; font-weight:400; color:#9CA3AF;">oz</small></span>
</div>

<div class="breakdown-row" style="border-bottom: none;">
    <span>Fragrance Oil</span>
    <span class="value" style="color: var(--primary);"><span id="foNeededDisplay">0</span> <small class="unit-label" style="font-size:0.9rem; font-weight:400; color:#9CA3AF;">oz</small></span>
</div>
            </div>

            <div class="disclaimer">
                <i class="ph ph-info" style="vertical-align: middle; margin-right:4px;"></i> 
                Calculated using <span id="currentSgDisplay" style="font-weight:600;">0.86</span> SG density adjustment for <span id="currentWaxName" style="font-weight:600;">Soy Wax</span>.
            </div>
        </div>
    </div>

    <div class="info-grid">
        <div class="card info-card">
            <h3><i class="ph ph-thermometer-hot"></i> Melt Point</h3>
            <p id="meltPointInfo">Always add fragrance at 185°F for most soy waxes to ensure proper binding.</p>
        </div>
        <div class="card info-card">
            <h3><i class="ph ph-timer"></i> Cure Time</h3>
            <p id="cureTimeInfo">Soy wax typically requires 2 weeks of curing for optimal hot throw performance.</p>
        </div>
        <div class="card info-card">
            <h3><i class="ph ph-lightbulb"></i> Wick Tip</h3>
            <p>If your flame flickers excessively, your wick might be too large or not trimmed to 1/4".</p>
        </div>
    </div>
</div>

<script src="scripts.js"></script>

<script>
    // --- ELEMENT REFERENCES ---
    // Inputs
    const refs = {
        waterWeight: document.getElementById('waterWeight'),
        candleCount: document.getElementById('candleCount'),
        foSlider: document.getElementById('foSlider'),
        customSg: document.getElementById('customSg'),
        waxSelector: document.getElementById('waxSelector')
    };

    // Outputs
    const displays = {
        fo: document.getElementById('foDisplay'),
        total: document.getElementById('totalWeightDisplay'),
        wax: document.getElementById('waxNeededDisplay'),
        foNeed: document.getElementById('foNeededDisplay'),
        sg: document.getElementById('currentSgDisplay'),
        waxName: document.getElementById('currentWaxName'),
        meltInfo: document.getElementById('meltPointInfo'),
        cureInfo: document.getElementById('cureTimeInfo')
    };

    // --- WAX DATA ---
    const waxData = [
        { id: "g464", name: "Golden Brands 464", category: "Soy", sg: 0.86, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 135°F (+/- 5°).", cureMsg: "Cure for 2 weeks." },
        { id: "g444", name: "Golden Brands 444", category: "Soy", sg: 0.86, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 125-135°F.", cureMsg: "Cure for 2 weeks." },
        { id: "g415", name: "Golden Brands 415", category: "Soy", sg: 0.86, meltMsg: "Pure soy. Heat to 185°F, Add Fragrance. Pour at 140°F.", cureMsg: "Cure for 2 weeks." },
        { id: "g402", name: "Golden Brands 402", category: "Soy", sg: 0.86, meltMsg: "Heat to 185°F, Add Fragrance. Pour around 135°F.", cureMsg: "Cure for 2 weeks." },
        { id: "g454", name: "Golden Brands 454", category: "Coco/Soy", sg: 0.86, meltMsg: "Heat to 185°F, Add Fragrance.. Pour between 125-145°F.", cureMsg: "Cure for 1-2 weeks." },
        { id: "nw_c6", name: "NatureWax C-6", category: "Coco/Soy", sg: 0.88, meltMsg: "Heat to 180°F, Add Fragrance.. Pour at 160°F.", cureMsg: "Cure for 1 week." },
        { id: "igi6006", name: "IGI 6006", category: "Para-Soy", sg: 0.88, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 170°F.", cureMsg: "Cure for 3-5 days." },
        { id: "igi4627", name: "IGI 4627", category: "Paraffin", sg: 0.92, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 175°F.", cureMsg: "Cure for 24-48 hours." },
        { id: "igi4630", name: "IGI 4630", category: "Paraffin", sg: 0.92, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 175°F.", cureMsg: "Cure for 24-48 hours." },
        { id: "igi6046", name: "IGI 6046", category: "Para-Coco", sg: 0.90, meltMsg: "Heat to 190°F, Add Fragrance. Pour at 170°F.", cureMsg: "Cure for 3-5 days." },
        { id: "pb550", name: "ProBlend 550", category: "Paraffin", sg: 0.92, meltMsg: "Heat to 190°F, Add Fragrance. Pour at 170°F.", cureMsg: "Cure for 24 hours." },
        { id: "pb600", name: "ProBlend 600", category: "Para-Soy", sg: 0.88, meltMsg: "Heat to 185°F, Add Fragrance. Pour at 160°F.", cureMsg: "Cure for 3-5 days." },
        { id: "bees", name: "Beeswax", category: "Natural", sg: 0.96, meltMsg: "Heat to 160°F+. Add Fragrance. Pour Hot.", cureMsg: "Cure for 48 hours." },
        { id: "custom", name: "Custom Wax", category: "User", sg: 0.86, meltMsg: "Check manufacturer instructions.", cureMsg: "Check manufacturer instructions." }
    ];

    // --- GLOBAL UNIT LISTENER ---
    document.addEventListener('unitChange', function(e) {
        if (e.detail.converting) {
            convertInput('waterWeight', 'mass');
        }
        calculate();
    });

    // --- INITIALIZATION ---
    function populateWaxes() {
        waxData.forEach(wax => {
            const option = document.createElement('option');
            option.value = wax.id;
            option.textContent = `${wax.name} (${wax.category})`;
            refs.waxSelector.appendChild(option);
        });
    }

    // --- HELPER: TEXT TEMPERATURE CONVERTER ---
    function formatTempString(text) {
        // Regex to find "185°F" or "125-135°F"
        return text.replace(/(\d+)(?:-(\d+))?°F/g, (match, p1, p2) => {
            const c1 = Math.round((parseInt(p1) - 32) * 5/9);
            
            // If there is a range (e.g., 125-135)
            if (p2) {
                const c2 = Math.round((parseInt(p2) - 32) * 5/9);
                return `${match} (${c1}-${c2}°C)`;
            }
            
            // If it's a single temp
            return `${match} (${c1}°C)`;
        });
    }

    // --- CORE LOGIC ---
    function calculate() {
        // 1. Get Inputs
        const waterWeight = parseFloat(refs.waterWeight.value) || 0;
        const count = parseFloat(refs.candleCount.value) || 0;
        const fragranceLoad = parseFloat(refs.foSlider.value) || 0;
        
        // 2. Determine Specific Gravity
        const selectedId = refs.waxSelector.value;
        const selectedWax = waxData.find(w => w.id === selectedId) || waxData[0];
        
        let sg = selectedWax.sg;
        
        // Handle Custom Input Visibility
        const customSgContainer = document.getElementById('customSgContainer');
        if (selectedId === 'custom') {
            customSgContainer.classList.remove('hidden');
            sg = parseFloat(refs.customSg.value) || 0.86;
        } else {
            customSgContainer.classList.add('hidden');
        }

        // 3. Main Math (Unit Agnostic)
        const totalBatchWeight = waterWeight * sg * count;
        const waxWeight = totalBatchWeight / (1 + (fragranceLoad / 100));
        const foWeight = totalBatchWeight - waxWeight;

        // 4. Update Result Text
        const decimals = globalUnit === 'imperial' ? 2 : 1;
        
        displays.fo.textContent = fragranceLoad + "%";
        displays.total.textContent = totalBatchWeight.toFixed(decimals);
        displays.wax.textContent = waxWeight.toFixed(decimals);
        displays.foNeed.textContent = foWeight.toFixed(decimals);
        
        displays.sg.textContent = sg;
        displays.waxName.textContent = selectedWax.name;

        // 5. Update Info Cards (With Temp Conversion)
        displays.meltInfo.textContent = formatTempString(selectedWax.meltMsg);
        displays.cureInfo.textContent = selectedWax.cureMsg;
    }

    // --- EVENT LISTENERS ---
    Object.values(refs).forEach(el => {
        el.addEventListener('input', calculate);
        el.addEventListener('change', calculate);
    });

    // --- STARTUP ---
    populateWaxes();
    
    // If loading in metric mode with pre-filled data, convert it
    if(globalUnit === 'metric' && refs.waterWeight.value) {
        convertInput('waterWeight', 'mass');
    }
    
    calculate();
</script>

</body>





</html>